<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.itbank.repository.Board2DAO">

	<select id="getBoard2List" resultType="board2" parameterType="HashMap">
		select *
		from board2
		order by idx desc
		offset #{offset} rows
		fetch first #{perPage} rows only
	</select>
	
	<select id="getSearchList" parameterType="Hashmap" resultType="board2">
		select *
		from board2
		where ${type} like '%${keyword}%'
		order by idx desc
		offset #{offset} rows
		fetch first #{perPage} rows only
	</select>
	
	
	<select id="selectOneBoard2" resultType="board2">
		select *
		from board2
		where idx=#{idx}
	</select>
	
	<update id="Board2ViewCount" parameterType="int">
    	UPDATE board2 SET
    	viewCount = viewCount+1
    	WHERE idx=#{idx}
    </update>
	
	<select id="getBoard2Count" resultType="int">
		select count(*) from board2
	</select>
	
	<insert id="addboard2" parameterType="board2">
		insert into board2 (title, content, writer, ipaddr, uploadFile) 
		values(#{title}, #{content}, #{writer}, #{ipaddr}, #{uploadFile})
	</insert>
	
	<insert id="addboard2WithoutFile" parameterType="board2">
		insert into board2 (title, content, writer, ipaddr) 
		values(#{title}, #{content}, #{writer}, #{ipaddr})
	</insert>

	<update id="modifyBoard2" parameterType="board2">
		update board2 set
			title=#{title},
			content=#{content},
			uploadFile=#{uploadFile}
		where idx=#{idx}
	</update>
	
	<update id="modifyBoard22WithoutFile" parameterType="board2">
		update board2 set
			title=#{title},
			content=#{content},
		where idx=#{idx}
	</update>
	
	<delete id="deleteBoard" parameterType="int">
		delete from board2 where idx=#{idx}
	</delete>
</mapper>